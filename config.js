// Настройки игровой механики
const CONFIG = {
    // Настройки пушки
    cannon: {
        shootDelay: 50,       // Увеличено с 10 до 50 мс для стабильности
        barrelLength: 80,     // Длина ствола
        baseWidth: 60,        // Ширина основания
        baseHeight: 40,       // Высота основания
        barrelBaseWidth: 20,  // Ширина у основания ствола
        barrelTipWidth: 10,   // Ширина на конце ствола
        baseRadius: 60,       // Радиус круглого основания
        colors: {
            circle: '#666',    // Цвет кругового основания
            base: '#888',      // Цвет трапеции
            barrel: 'dynamic'  // Динамический цвет ствола (будет меняться)
        },
        position: {
            x: 0.5,           // Позиция по X (в процентах от ширины экрана, 0.5 = центр)
            y: 150,           // Отступ от нижнего края в пикселях
            elevation: 0      // Базовое возвышение пушки (в пикселях от земли)
        },
        movement: {
            speed: 15,           // Скорость перемещения пушки при клике СКМ
            keyboardSpeed: 8,    // Скорость перемещения пушки при WASD (замедленная)
            smoothing: 0.1,      // Коэффициент плавности движения (0-1)
            margin: 100,         // Отступ от краев экрана
        }
    },

    // Настройки снарядов
    projectile: {
        radius: 8,             // Радиус снаряда
        trailLength: 6,        // Длина следа за снарядом
        width: 4,              // Ширина лазерного луча
        length: 4,             // Длина лазерного луча
        speed: 32              // Добавляем скорость снаряда
    },

    // Защитные кольца
    defense: {
        radius: 200,           // Радиус защитной зоны
        rings: [
            { offset: 40 },    // Внешнее кольцо (отступ от основного радиуса)
            { offset: 20 },    // Среднее кольцо
            { offset: 0 },     // Внутреннее кольцо
            { offset: 140, invisible: true }  // Невидимое кольцо вокруг пушки
        ]
    },

    // Настройки врагов
    enemies: {
        sizes: {
            small: {
                radius: 20,
                speedMultiplier: 1.3,  // Увеличили скорость маленьких врагов
                chance: { min: 0.2, max: 0.7 }  // Увеличили шанс появления маленьких врагов
            },
            medium: {
                radius: 25,
                speedMultiplier: 1.0,
                chance: { min: 0.3, max: 0.8 }
            },
            large: {
                radius: 35,
                speedMultiplier: 0.7,  // Замедлили больших врагов для контраста
                chance: { min: 0.5, max: 0.2 }  // Уменьшили шанс больших врагов к концу
            }
        },
        explosion: {
            particleCount: 80,  // Больше частиц для более эффектных взрывов
            speedMultiplier: 2.0 // Более быстрые частицы для динамичности
        }
    },

    // Настройки волн - более насыщенный геймплей
    waves: [
        {
            killsToNext: 35,    // Больше убийств для первой волны
            count: 15,          // Больше врагов на экране
            speed: 0.7,         // Умеренная скорость
            spawnRate: 600,     // Быстрый спавн
            minSpawnRate: 200   // Очень быстрый спавн при пустой сцене
        },
        {
            killsToNext: 50,    // Длинная вторая волна
            count: 20,          // Еще больше врагов
            speed: 0.9,         // Небольшое ускорение
            spawnRate: 500,     // Частый спавн
            minSpawnRate: 200
        },
        {
            killsToNext: 70,    // Массивная средняя волна
            count: 25,          // Максимум врагов
            speed: 1.1,         // Заметное ускорение
            spawnRate: 400,     // Очень частый спавн
            minSpawnRate: 200
        },
        {
            killsToNext: 60,    // Интенсивная четвертая волна
            count: 20,          // Меньше врагов, но они быстрее
            speed: 1.4,         // Существенное ускорение
            spawnRate: 400,
            minSpawnRate: 200
        },
        {
            killsToNext: 45,    // Короткая но взрывная финальная волна
            count: 15,          // Меньше врагов для фокуса на скорости
            speed: 1.8,         // Очень быстрые враги
            spawnRate: 300,     // Максимально быстрый спавн
            minSpawnRate: 200
        }
    ],

    // Настройки автоматического режима
    auto: {
        patrol: {
            speed: 0.0005,     // Скорость патрулирования
            range: Math.PI / 6, // Диапазон патрулирования (30 градусов)
            rotationSpeed: 0.05 // Скорость поворота к цели
        },
        targeting: {
            angleThreshold: Math.PI / 8  // Максимальное отклонение для автострельбы (22.5 градуса)
        },
        autoShoot: {
            delay: 50,        // Задержка между автоматическими выстрелами (мс)
            maxTargets: 3,     // Максимальное количество целей для одновременного отслеживания
            minDistance: 100,  // Минимальная дистанция до цели для начала стрельбы
            maxDistance: 800,  // Максимальная дистанция стрельбы
            switchColorDelay: 50, // Задержка при смене цвета (мс)
            accuracy: 0.95,    // Точность автоматической стрельбы (0-1)
            prioritizeNearest: true // Приоритет ближайших целей
        }
    },

    // Настройки частиц
    particles: {
        minSize: 1,           // Минимальный размер частиц
        maxSize: 5,           // Максимальный размер
        minSpeed: 1,          // Минимальная скорость
        maxSpeed: 10,          // Максимальная скорость
        gravity: 0.01,         // Сила гравитации
        fadeSpeed: 0.01       // Скорость исчезновения
    },

    // Цвета лазеров и врагов
    colors: [
        '#FFFFFF', // Белый (добавляем в начало массива)
        '#960EF1', // 1
        '#002EFA', // 2
        '#00EDF5', // 3
        '#6DF10E', // 4
        '#FAC800', // 5
        '#F50400'  // 6
    ],

    // Добавляем настройки отладочной сетки
    debug: {
        enabled: true,           // Включить отображение отладочной информации
        grid: {
            size: 100,          // Размер ячейки сетки
            color: '#222222',    // Цвет сетки
            lineWidth: 1         // Толщина линий
        },
        spawnArea: {
            color: '#590B0B',    // Цвет зоны спавна
            lineWidth: 1,        // Толщина границы
            padding: 200,        // Уменьшаем отступ с 1000 до 500
            height: 50           // Добавляем высоту зоны спавна
        },
        enemies: {
            showArrows: true,     // Показывать стрелки направления движения
            arrowColor: '#FF0000', // Цвет стрелок
            arrowLength: 40,      // Длина стрелки
            arrowWidth: 8,        // Толщина стрелки
            pathColor: '#FF0000', // Цвет пунктирного пути
            pathDash: [5, 5]      // Настройка пунктира [длина штриха, длина пробела]
        }
    },

    // Добавляем лимиты для производительности
    limits: {
        maxParticles: 1000,
        maxProjectiles: 100,
        maxEnemies: 50
    }
};

// Экспортируем конфигурацию
export default CONFIG;
